import{d as g,r,c as b,n as y}from"./index-sdUjMPI5.js";const h=g({__name:"NewPost",setup(m){const s=r(null),e=r(!1),t=r(""),a=r(!1);async function p(v){var o,l,i,c;e.value=!0,t.value="",a.value=!1;try{const n=v.target.elements,d=(o=n.userId)==null?void 0:o.value,f=(l=n.title)==null?void 0:l.value,_=(i=n.body)==null?void 0:i.value;if(!d||!f||!_)throw new Error("Fields are missing");(await b({userId:d,title:f,body:_})).status===201&&(a.value=!0),(c=s.value)==null||c.reset()}catch(u){t.value=u.message||"An error has occured"}finally{e.value=!1}}return{__sfc:!0,form:s,isLoading:e,errorMsg:t,success:a,handleSubmit:p}}});var C=function(){var s=this,e=s._self._c,t=s._self._setupProxy;return e("section",[e("form",{ref:"form",staticClass:"form-container",on:{submit:function(a){return a.preventDefault(),t.handleSubmit.apply(null,arguments)}}},[e("h2",{staticClass:"heading"},[s._v("Add new Post")]),e("input",{attrs:{disabled:t.isLoading,name:"userId",type:"text",placeholder:"Enter id"}}),e("input",{attrs:{disabled:t.isLoading,name:"title",type:"text",placeholder:"Enter title"}}),e("input",{attrs:{disabled:t.isLoading,name:"body",type:"text",placeholder:"Enter body"}}),e("button",{attrs:{disabled:t.isLoading,type:"submit"}},[s._v("Submit")])]),t.isLoading?e("div",{staticClass:"loading"},[s._v(" loading... ")]):t.success?e("div",{staticClass:"success"},[s._v(" Post Added ")]):t.errorMsg?e("div",{staticClass:"error"},[s._v(" "+s._s(t.errorMsg)+" ")]):s._e()])},w=[],x=y(h,C,w,!1,null,"cc3b7b8b",null,null);const E=x.exports;export{E as default};
